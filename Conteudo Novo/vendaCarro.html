<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      //criar variavel para o vetor de carros
      // criar funcao salvar
      //  acessar campos pelo document.getelement.byid para cada campo e pegar o valor (value) do campo
      //   criar um novo objeto "carro" com os valores coletados
      //    adicionar um novo objeto no vetor
      //     limpar os campos

      let carros = [];
      let idAtual = 0;

      function adicionarCarro() {
        let modelo = document.getElementById("modelo").value;
        let cor = document.getElementById("cor").value;
        let ano = document.getElementById("ano").value;
        let placa = document.getElementById("placa").value;

        let carro = {
          id: idAtual++,
          modelo: modelo,
          cor: cor,
          ano: ano,
          placa: placa,
          vendido: false,
        };

        carros.push(carro);

        document.getElementById("modelo").value = "";
        document.getElementById("cor").value = "";
        document.getElementById("ano").value = "";
        document.getElementById("placa").value = "";

        listarCarros();
      }

      // 1 criar função listar
      // 1.1 limpando o Corpo da Tabela <Tbody>
      // 2 buscar elemento tbody
      // 3 criar um tr dentro do tbody
      // 4 ao salvar um carro chamar a função listas

      function listarCarros() {
        let corpoTabela = document.getElementById("corpoTabela");

        corpoTabela.innerHTML = "";

        for (i = 0; i < carros.length; i++) {
          corpoTabela.innerHTML += `
          <tr>
            <td>${carros[i].id}</td>
            <td>${carros[i].modelo}</td>
            <td>${carros[i].cor}</td>
            <td>${carros[i].ano}</td>
            <td>${carros[i].placa}</td>
            <td>
              <input onclick="checkVendido(${carros[i].id})" type="checkbox" name="" id="" />
            </td>
            <td>
              <button>Editar</button>
              <button onclick="removerCarro(${carros[i].id})">Remover</button>
            </td>
          </tr>
          `;
        }
      }

      // 1 criar função checkVendido que recebera como parametro o id do carro
      // 2 buscar o indice no vetor do carro que possui o id  fornecido no parametro
      // 3 colocar vendido = true para o carro na posição do indice descoberto
      function checkVendido(id) {
        let i = carros.findIndex(function (carro) {
          return carro.id == id;
        });
        carros[i].vendido = !carros[i].vendido;
      }

      // 1. Criar funcao remover carro que recebe como parametro o id do carro
      // 2. Buscar o indice do vetor do carro que pussue o id = do parametro (utilizar metodo findIndex no vetor carros)
      // 3. Remover o elemento do vetor carros do indice descoberto (utilizar metodo splice no vetor carros)
      // 4. Relistar tabela de carros

      function removerCarro(id) {
        let i = carros.findIndex(function (carro) {
          return carro.id == id;
        });

        carros.splice(i, 1);

        listarCarros();
      }

      // 1. Criar funcao editar carro que recebe como parametro o id do carro
      // 2. Armazenar o id recebido como parametro em uma variavel global chamada "idEdicao"
      // 3. Atribuir true na variavel global chamada "modoEdicao"
      // 4. Alterar funcao adicionarCarro para alterar carro já existente (no vetor carros) quando o modo edicao for igual a true
    </script>
  </head>
  <body>
    <h1>Sistema de Vendas de Carros</h1>

    <input placeholder="Modelo" id="modelo" type="text" />
    <input placeholder="Cor" id="cor" type="text" />
    <input placeholder="Ano" id="ano" type="number" />
    <input placeholder="Placa" id="placa" type="text" />

    <button onclick="adicionarCarro()">Salvar</button>

    <table border="1">
      <!-- cabeçalho -->
      <thead>
        <th>Id</th>
        <th>Modelo</th>
        <th>Cor</th>
        <th>Ano</th>
        <th>Placa</th>
        <th>Vendido</th>
        <th>Ações</th>
      </thead>
      <!-- corpo da tabela -->
      <tbody id="corpoTabela"></tbody>
    </table>
  </body>
</html>
